import re

file = open('m2_experiment_result.txt', mode = 'r', encoding = 'utf-8-sig')
lines = file.readlines()
file.close()

L1_misses = []
L3_misses = []
execution_time = []
for line in lines:
    res = re.search(r'D1  misses:', line)
    if res:
        line = line.replace(',', '')
        result = re.search(r'\d+', line[res.end():])
        L1_misses.append(int(result.group()))
        continue
    
    res = re.search(r'LL misses:', line)
    if res:
        line = line.replace(',', '')
        result = re.search(r'\d+', line[res.end():])
        L3_misses.append(int(result.group()))
        continue

    res = re.search(r'seconds time elapsed', line)
    if res:
        line = result = re.search(r'[0-9]+\.[0-9]+', line)
        execution_time.append(float(result.group()))
        continue

print(str(L1_misses))
print(str(L3_misses))
print(str(execution_time))


"""
m2 
L1_misses = [31260, 85774, 189739, 493830, 10288836, 25479686, 43455848, 27831]
L3_misses = [19225, 47163, 103452, 251106, 439453, 698458, 1226827, 7820]
execution_time = [0.9239383, 0.990653498, 0.985300689, 1.025210146, 1.082284917, 1.154890026, 1.199050834, 0.980478275]

L1_misses = [31216, 85774, 189522, 493334, 10293106, 25478909, 43456140, 27831]
L3_misses = [19225, 47163, 102890, 250175, 438840, 697125, 1226960, 7820]
execution_time = [0.982489952, 0.983876282, 1.002264319, 1.020530278, 1.093474936, 1.152571241, 1.288872557, 0.987715325]

L1_misses = [31260, 85793, 189694, 492807, 10293666, 25477792, 43453088, 27831]
L3_misses = [19225, 47163, 103103, 249925, 438099, 696404, 1225074, 7820]
execution_time = [0.975321199, 0.998488013, 1.01477215, 1.018948682, 1.101888149, 1.14988769, 1.23601346, 0.97990434]

m2 seq
L1_misses = [157888, 306383, 629921, 1321012, 2027430, 3599923, 2492785, 3274031]
L3_misses = [25030, 41186, 79840, 159538, 230021, 385637, 204672, 272317]
execution_time = [0.988182322, 1.013890679, 1.044131808, 1.1002683, 1.159065142, 1.265938833]





M2
L1_misses = [11741, 18549, 103814, 181060, 420013, 10811273, 25322318, 43214896]
L3_misses = [12171, 12983, 55927, 97657, 217949, 478950, 687056, 1212171]
execution_time = [0.969091354, 0.998913577, 1.012656357, 1.022977044, 1.090922474, 1.089946451]

M2seq
L1_misses = [161280, 293337, 728355, 1384964, 2031853, 3638844, 2491030]
L3_misses = [26177, 36571, 111607, 179816, 232423, 399507, 204145]
execution_time = [0.985582599, 1.015322686, 1.051724737, 1.109515417, 1.089957904, 1.174172385]


M2
L1_misses = [17232, 94135, 164298, 313349, 10633154, 26008184, 43110856]
L3_misses = [12454, 50868, 86573, 169045, 452555, 762237, 1201933]
execution_time = [0.932352029, 0.989551941, 0.999625371, 1.020776606, 1.084765832, 1.106272385, 1.292178812]
L1_misses = [17111, 94039, 164509, 313595, 10634572, 26006967, 43111462]
L3_misses = [12330, 50786, 87843, 168071, 452003, 761097, 1201700]
execution_time = [0.956761254, 0.996731694, 1.003872593, 1.016509689, 1.062206448, 1.124892223, 1.209372223]
L1_misses = [17111, 94039, 164509, 313595, 10634572, 26006967, 43111462]
L3_misses = [12330, 50786, 87843, 168071, 452003, 761097, 1201700]
execution_time = [0.956761254, 0.996731694, 1.003872593, 1.016509689, 1.062206448, 1.124892223, 1.209372223]
M2seq
L1_misses = [31243, 144367, 338235, 661220, 1401627, 1995732, 3725671]
L3_misses = [9044, 20856, 51795, 89361, 185195, 220955, 426729]
execution_time = [0.964139429, 0.989619293, 1.000710447, 1.04495645, 1.107108333, 1.092806387, 1.177337923]
L1_misses = [31243, 144367, 338235, 661220, 1401627, 1995732, 3725671]
L3_misses = [9044, 20856, 51795, 89361, 185195, 220955, 426729]
execution_time = [0.97315277, 0.997828285, 1.019878957, 1.045412193, 1.105084994, 1.096695541, 1.297174031]
L1_misses = [31154, 144367, 337959, 660670, 1401627, 1995732, 3725671]
L3_misses = [8948, 20856, 51691, 89031, 185195, 220955, 426729]
execution_time = [0.976124613, 0.997977838, 1.014616969, 1.050332763, 1.106627641, 1.153356616, 1.284036464]


M2 Final
[[23504, 88502, 201396, 267770, 517637, 742938, 2298256, 7239230, 10789827],
[23501, 88498, 201798, 267201, 516253, 742550, 2299103, 7230692, 10781626],
[23462, 88517, 201985, 267898, 517144, 737079, 2295816, 7234399, 10791635]]

[[15389, 48156, 114452, 150009, 258631, 281959, 315964, 457204, 468505],
[15389, 48156, 113775, 150576, 256647, 281382, 316594, 457508, 468324],
[15350, 48122, 113560, 150057, 257781, 279964, 315359, 456717, 469117]]

[[0.959083513, 0.996362931, 1.011348918, 1.020006802, 1.031849939, 1.039520343, 1.052024972, 1.070906406, 1.075086176],
[0.966338876, 0.993251175, 0.98664377, 1.010446397, 1.015842678, 1.039490727, 1.075883696, 1.065968738, 1.06005119],
[0.947817603, 0.9969799, 1.021294987, 1.028005939, 1.03854365, 1.07718589, 1.054146922, 1.068312327, 1.086017774]]

L1_misses = [23504, 88502, 201396, 267770, 517637, 742938, 2298256, 7239230, 10789827]
L3_misses = [15389, 48156, 114452, 150009, 258631, 281959, 315964, 457204, 468505]
execution_time = [0.959083513, 0.996362931, 1.011348918, 1.020006802, 1.031849939, 1.039520343, 1.052024972, 1.070906406, 1.075086176]

L1_misses = [23501, 88498, 201798, 267201, 516253, 742550, 2299103, 7230692, 10781626]
L3_misses = [15389, 48156, 113775, 150576, 256647, 281382, 316594, 457508, 468324]
execution_time = [0.966338876, 0.993251175, 0.98664377, 1.010446397, 1.015842678, 1.039490727, 1.075883696, 1.065968738, 1.06005119]

L1_misses = [23462, 88517, 201985, 267898, 517144, 737079, 2295816, 7234399, 10791635]
L3_misses = [15350, 48122, 113560, 150057, 257781, 279964, 315359, 456717, 469117]
execution_time = [0.947817603, 0.9969799, 1.021294987, 1.028005939, 1.03854365, 1.07718589, 1.054146922, 1.068312327, 1.086017774]


[[28187, 152779, 333554, 478105, 640185, 861152, 957458, 1163415, 1284380],
[28098, 152779, 333554, 478105, 640735, 861152, 957458, 1164444, 1283193],
[28187, 152779, 333554, 478105, 640735, 861152, 957458, 1164444, 1284380]]

[[8213, 22953, 49803, 63572, 82751, 120106, 115939, 145652, 146093],
[8118, 22953, 49803, 63572, 83057, 120106, 115939, 146295, 145366],
[8213, 22953, 49803, 63572, 83057, 120106, 115939, 146295, 146093]]

[[0.958247431, 1.004103908, 1.02074918, 1.025219816, 1.015589506, 1.065122581, 1.070905022, 1.05402046, 1.096549716],
[0.979597634, 0.995745361, 1.010547166, 1.024874707, 1.044837957, 1.058758937, 1.069678534, 1.088646592, 1.096917485],
[0.959952441, 0.996140065, 1.013676517, 1.03407276, 1.038007978, 1.117987118, 1.063333217, 1.1615606, 1.140898332]]

L1_misses = [28187, 152779, 333554, 478105, 640185, 861152, 957458, 1163415, 1284380]
L3_misses = [8213, 22953, 49803, 63572, 82751, 120106, 115939, 145652, 146093]
execution_time = [0.958247431, 1.004103908, 1.02074918, 1.025219816, 1.015589506, 1.065122581, 1.070905022, 1.05402046, 1.096549716]

L1_misses = [28098, 152779, 333554, 478105, 640735, 861152, 957458, 1164444, 1283193]
L3_misses = [8118, 22953, 49803, 63572, 83057, 120106, 115939, 146295, 145366]
execution_time = [0.979597634, 0.995745361, 1.010547166, 1.024874707, 1.044837957, 1.058758937, 1.069678534, 1.088646592, 1.096917485]

L1_misses = [28187, 152779, 333554, 478105, 640735, 861152, 957458, 1164444, 1284380]
L3_misses = [8213, 22953, 49803, 63572, 83057, 120106, 115939, 146295, 146093]
execution_time = [0.959952441, 0.996140065, 1.013676517, 1.03407276, 1.038007978, 1.117987118, 1.063333217, 1.1615606, 1.140898332]







Updated M2:
[20253, 103563, 168537, 277799, 378039, 396071, 533749, 617821, 657411]
[13813, 55397, 90269, 156356, 210701, 207618, 286733, 306133, 346931]
[0.940182145, 0.99613159, 0.991658695, 0.999251849, 1.015201826, 1.045974136, 1.064585142, 1.067903701, 1.087830594]

[20121, 103562, 168632, 277432, 377898, 396714, 528682, 615312, 658355]
[13770, 55397, 90442, 155125, 210485, 207058, 285265, 309272, 349318]
[0.963754865, 0.995936432, 1.016530674, 1.000502817, 1.046235593, 1.058763777, 1.056958989, 1.037417876, 1.073645758]

[20102, 103673, 168252, 277782, 378906, 396887, 531474, 614958, 658409]
[13770, 55442, 90069, 155306, 212209, 213490, 291049, 306089, 344407]
[0.959246588, 0.996615796, 0.999997826, 1.023617354, 1.031868451, 1.045607491, 1.060562483, 1.06614325, 1.087255758]


[36795, 146824, 331876, 471469, 661153, 812083, 989086, 1184609, 1350816]
[11010, 21156, 49059, 61874, 88695, 103929, 125250, 152258, 169363]
[0.969447876, 0.996441991, 1.014958251, 1.027271677, 1.050426848, 1.062121476, 1.071365329, 1.101221162, 1.101221162]

[36795, 146824, 331876, 471870, 661153, 812083, 989951, 1184609, 1349626]
[11010, 21156, 49059, 61984, 88695, 103929, 125849, 152258, 168595]
[0.973664705, 0.989250261, 1.011129964, 1.028368698, 1.043030191, 1.063731245, 1.076405114, 1.094643831, 1.102551979]

[36795, 146824, 331876, 471870, 661153, 811378, 989951, 1183578, 1349626]
[11010, 21156, 49059, 61984, 88695, 103485, 125849, 151600, 168595]
[0.972890627, 0.993993914, 1.012952827, 1.029448286, 1.024662081, 1.061762909, 1.079290534, 1.093889872, 1.105711749]
"""